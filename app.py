import streamlit as st
import pandas as pd
import  openpyxl


last_year_players =['Romagnoli S.',
 'Maggiore',
 'Vranckx',
 'Lukaku',
 'Vasquez D.',
 'Amrabat',
 'Petagna',
 'Lovato',
 'Marcos Antonio',
 'Kovalenko',
 'Abildgaard',
 'Soumaoro',
 'Radu',
 'Cambiaghi',
 'Cerofolini',
 'Sala',
 'Nikolaou',
 'Baldanzi',
 'Onana',
 'Hjulmand',
 'Defrel',
 'Colpani',
 'Vignato',
 'Gabbia',
 'Hernandez T.',
 'Caldara',
 'Palomino',
 'Gatti',
 'Ochoa',
 'Matheus Henrique',
 'Solbakken',
 'Buonaiuto',
 'Murillo',
 'Paoletti',
 'Gytkjaer',
 'Caprari',
 'Shomurodov',
 'Bove',
 'Giroud',
 'Bonucci',
 'Politano',
 'Cipot',
 'Magnani',
 'Skorupski',
 'Lamanna',
 'Helgason',
 'Djuric',
 'Mota',
 'Tonali',
 'Miretti',
 'Pafundi',
 "Ballo-Toure'",
 'Acerbi',
 'Raspadori',
 'Singo',
 'Castrovilli',
 'Botheim',
 'Rrahmani',
 'Perisan',
 'Pjaca',
 'Zortea',
 'Felipe Anderson',
 'Sirigu',
 'Aiwu',
 'Braaf',
 'Izzo',
 'Sorrentino A.',
 'Schouten',
 'Messias',
 "D'alessandro",
 'Wijnaldum',
 'Thauvin',
 'Grassi',
 'Pedro',
 'Locatelli',
 'Sernicola',
 'Ciurria',
 'Cataldi',
 'Harroui',
 'Dia',
 'Bourabia',
 'Darboe',
 'Sabiri',
 'Basic',
 'Gravillon',
 'Marchizza',
 'Jovic',
 'Djimsiti',
 'Dimarco',
 'Adamonis',
 'Lammers',
 'Turk',
 'Rincon',
 'Perin',
 'Amione',
 "Kouame'",
 'Umtiti',
 'Samardzic',
 'Cacace',
 'Destro',
 'Leris',
 'Juan Jesus',
 'Lochoshvili',
 'Rebic',
 'Zirkzee',
 'Thiaw',
 'Maignan',
 'Sepe',
 'De Silvestri',
 'Saro',
 'Ebuehi',
 'Ciofani D.',
 'Fagioli',
 'Castagnetti',
 'Cristante',
 'Cancellieri',
 'Vojvoda',
 'Ceide',
 'Ranocchia F.',
 'Pickel',
 'Svilar',
 'Lazzari',
 'Carboni F.',
 'Bakayoko',
 'Zoet',
 'Fares',
 'Okereke',
 'Volpato',
 'Bonazzoli',
 'Zapata D.',
 'Tameze',
 'Holm',
 'Gaetano',
 'Urbanski',
 'Radonjic',
 'Barella',
 "Meite'",
 'Benassi',
 'Rui Patricio',
 'Nuytinck',
 'Ebosse',
 'Malagrida',
 'Zielinski',
 'De Luca',
 'Moutinho J.',
 'Zima',
 'Mancini',
 'Abankwah',
 'Verdi',
 'Di Maria',
 'Vieira',
 'Pirola',
 'Galdames',
 'Origi',
 'Mkhitaryan',
 'Bronn',
 'Ghiglione',
 'Pasalic',
 'Rugani',
 'Udogie',
 'Gendrey',
 'Guarino',
 'Fazzini',
 'Marrone',
 'Thorstvedt',
 'Gagliardini',
 'Ilkhan',
 'Donati',
 'Dawidowicz',
 'El Shaarawy',
 'Ederson D.s.',
 'Crnigoj',
 'Sambia',
 'Martinelli T.',
 'Nestorovski',
 'De Vrij',
 'Agudelo',
 'Lobotka',
 'Demiral',
 'Cassandro',
 'Rovella',
 'Baschirotto',
 'Ngonge',
 'Lykogiannis',
 'Pellegrini Lu.',
 'Adli',
 'De Sciglio',
 'Piana',
 'Bohinen',
 'Camara Ma.',
 'Mazzocchi',
 'Darmian',
 'Ilic',
 'Tsadjout',
 'Zanotti',
 'Terracciano F.',
 'Bayeye',
 'Zurkowski',
 'Lookman',
 'Mirante',
 'Di Lorenzo',
 'Bijol',
 'Hojlund',
 'Reca',
 'Walukiewicz',
 'Kaio Jorge',
 'Ceccherini',
 'Masina',
 'Vilhena',
 'Ostigard',
 'Bonifazi',
 'Karamoh',
 'Provedel',
 'Muldur',
 'Kumbulla',
 'Deulofeu',
 'Bardi',
 'Obiang',
 'Berardi',
 'Rodrigo Becao',
 'Dybala',
 'Kallon',
 'Venuti',
 'Romero L.',
 'Stojanovic',
 'Milinkovic-Savic',
 'Saelemaekers',
 'Seck',
 'Tomori',
 'Pellegrini Lo.',
 "Ndombele'",
 'Parisi',
 "Lauriente'",
 "Dodo'",
 'Mario Rui',
 'Medel',
 'Di Gregorio',
 'Ceccaroni',
 'Sulemana I.',
 'Tatarusanu',
 'Rodriguez R.',
 'Orsolini',
 'Kean',
 'Russo A.',
 'Chiriches',
 'Kjaer',
 'Padelli',
 'Milenkovic',
 'Dzeko',
 'Ciezkowski',
 'Pinamonti',
 'Zaccagni',
 'Bagnolini',
 'Milik',
 'Dessers',
 'Meret',
 'Posch',
 'Gonzalez J.',
 'Marfella',
 'Smalling',
 'Daniliuc',
 'Hateboer',
 'Murru',
 'Ismajli',
 'Zappacosta',
 'Maldini',
 'Dermaku',
 'Romagnoli',
 'Buta',
 'Silvestri',
 'Perilli',
 'Winks',
 'Dragowski',
 'Gallo',
 'Strefezza',
 'Spinazzola',
 'Bandinelli',
 'Amian',
 'Bertini',
 'Toljan',
 'Djuricic',
 'Fazio',
 'Perez N.',
 'Lazaro',
 'Kyriakopoulos',
 'Skriniar',
 'Sanabria',
 'Gaich',
 'Machin',
 'Piatek',
 'Frattesi',
 'Rafael Leao',
 'Pessina',
 'Luperto',
 'Piccoli',
 'Gyomber',
 'Zanoli',
 'Faticanti',
 'Hien',
 'De Winter',
 'Cuadrado',
 'Pongracic',
 'Martinez Quarta',
 'Cambiaso',
 'Degli Innocenti',
 "Lucumi'",
 'Gabbiadini',
 'Correa',
 'Sottil',
 'Barrow',
 'Arslan',
 'Duda',
 'Aina',
 'Krollis',
 'Vlasic',
 'Pussetto',
 'Oikonomou',
 'Kvaratskhelia',
 'Pezzella Giu.',
 'Gineitis',
 'Djidji',
 'Marusic',
 'Alex Sandro',
 'Danilo',
 'Pinsoglio',
 'Kostic',
 'Sensi',
 "D'ambrosio",
 'Osimhen',
 'Pyyhtia',
 'Coppola D.',
 'Maehle',
 'Raimondo',
 'Chiesa',
 'Hrustic',
 'Miranchuk',
 'Berisha',
 'Audero',
 'Doig',
 'Ekdal',
 'Augello',
 'Musso',
 'Antov',
 'Barrenechea',
 'Afena-Gyan',
 'Matic',
 'Bianchetti',
 'Birindelli',
 'Bennacer',
 'Rogerio',
 'Vecino',
 'Dominguez',
 'Moro N.',
 'Casale',
 'Ruan',
 'Barberis',
 'Berardi A.',
 'Demme',
 'Iling Junior',
 'Gosens',
 'Ruggeri',
 'Success',
 'Marlon',
 'Amey',
 'Vorlicky',
 "Soule'",
 'Pellegri',
 'Bastoni S.',
 'Milinkovic-Savic V.',
 'Marchetti',
 'Kalulu',
 'Kim',
 'Bastoni',
 'Vivaldo',
 'Gunter',
 'Zerbin',
 "Mari'",
 'Aebischer',
 'Askildsen',
 'Olivera',
 'Gonzalez N.',
 'Bereszynski',
 'Cuisance',
 'Krunic',
 'Ujkani',
 'Voelkerling Persson',
 'Ravaglia F.',
 'Bremer',
 'Vicario',
 'Brozovic',
 'Maleh',
 'Pogba',
 'Boer',
 'Cordaz',
 'Duncan',
 'Faraoni',
 'Banda',
 'Ibanez',
 'Coulibaly L.',
 'Montevago',
 'Guessand A.',
 'Cabral',
 'Satriano',
 'Rabiot',
 'Marin',
 'Akpa Akpro',
 'Terracciano',
 'Depaoli',
 'Oudin',
 'Simeone',
 'Ibrahimovic',
 'Gyasi',
 'De Ketelaere',
 'Igor',
 'Yepes',
 'Florenzi',
 'Lopez M.',
 'Zalewski',
 'Ceesay',
 'Gollini',
 'Sosa',
 'Lovric',
 'Ebosele',
 'Pereyra',
 'Dest',
 "Jese'",
 'Muriel',
 'Ferrari G.',
 'Okoli',
 'Rossi F.',
 'Gemello',
 'Toloi',
 'Karsdorp',
 'Luis Maximiano',
 'Boga',
 'Gila',
 'Bleve',
 'Caldirola',
 'Asllani',
 'Cabal',
 'Koopmeiners',
 'Falcone',
 'Schuurs',
 'Scalvini',
 'Abraham',
 "D'andrea",
 'Paredes',
 'Carlos Augusto',
 'Soriano',
 'Buongiorno',
 'Carboni V.',
 'Arnautovic',
 "Montipo'",
 'Patric',
 'Sansone',
 'Caputo',
 'Szczesny',
 'Linetty',
 'Conti',
 'Zovko',
 'Vlahovic',
 'Wisniewski',
 'Lazovic',
 'Pegolo',
 'Brancolini',
 'Esposito Sa.',
 'Colombo',
 'Carnesecchi',
 'Cragno',
 'Ampadu',
 'Nome',
 'Lasagna',
 'Ehizibue',
 'Soppy',
 'Calabria',
 'Sarr M.',
 'Di Francesco F.',
 'Brekalo',
 'Barbieri',
 'Pobega',
 'Llorente D.',
 'Calhanoglu',
 'Bradaric',
 'Tonelli',
 'Adopo',
 'Vasquez',
 'Ferrari A.',
 'Belotti',
 'Fiorillo',
 'Zambo Anguissa',
 'Valeri',
 'Miguel Veloso',
 'Tahirovic',
 'Bonaventura',
 'Saponara',
 'Ferrer',
 'Handanovic',
 'Haas',
 'Kastanos',
 'Erlic',
 'Beto',
 'Consigli',
 'Mandragora',
 'Biraghi',
 'Nicolussi Caviglia',
 'Acella',
 'Quagliarella',
 'Hysaj',
 'Terzic',
 'Barak',
 'Quagliata',
 'Zeefuik',
 'Ferguson',
 'Blin',
 'Alvarez A.',
 'De Roon',
 'Tuia',
 'Sportiello',
 'Elmas',
 'Walace',
 'Valoti',
 'Ranieri L.',
 'Dumfries',
 'Candreva',
 'Bajrami',
 'Bianco',
 'Troost-Ekong',
 'Henry',
 'Ravaglia',
 'Romagna',
 'Ricci S.',
 'Celik',
 'Samek',
 "Ikone'",
 'Immobile',
 'Henderson L.',
 'Bellanova',
 'Nzola',
 'Lozano',
 'Vignato S.',
 'Zeegelaar',
 'Luis Alberto',
 'Valencia D.',
 'Martinez L.',
 'Verde',
 'Diaz B.'] 

# Define the Streamlit app
def main():
    st.title("Differenze tra listoni")
    st.write("I giocatori dell'anno scorso non sono presi in considerazione di default")

    # Upload the CSV files
    st.sidebar.header("Carica gli excels dei tuoi listoni")
    uploaded_file1 = st.sidebar.file_uploader("Carica il listone vecchio", type=["xlsx"])
    uploaded_file2 = st.sidebar.file_uploader("Carica il listone nuovo", type=["xlsx"])

    if uploaded_file1 and uploaded_file2:
        # Load DataFrames from uploaded files
        df1 = pd.read_excel(uploaded_file1)
        df2 = pd.read_excel(uploaded_file2)

        # Calculate the difference between DataFrames
        df_diff = df1.merge(df2, how='outer', indicator=True).loc[lambda x: x['_merge'] != 'both']

        # Display the differences
        st.subheader("Risultato:")
        actual_players_df.loc[~actual_players_df["Unnamed: 3"].isin(last_year_players)]
        st.write(df_diff)

if __name__ == '__main__':
    main()
